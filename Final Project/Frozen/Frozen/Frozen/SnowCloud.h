#pragma once
#include "Drawable.h"
class SnowCloud : //derived from drawable class
	public Drawable
{
public:
	void cleanup();
	bool shouldDelete();
	void initOffsets();
	void initColors();
	void initTexCoords();
	
	//constructor
	SnowCloud();

	void draw();
	void applyTransformation(mat4 input);
	
	//destructor
	~SnowCloud();

	GLuint modelMatrix_loc, viewMatrix_loc, projectionMatrix_loc;
	GLuint vPosition_loc;
	GLuint vColor_loc;
	GLuint snowflakeOffset_Loc;
	GLuint buffer;

	mat4 model_matrix;
	int numSnowflakes = 4096*2;
	vec4 snowflakeOffsets[4096 * 2];
	vec4 vertexColors[144];

	GLuint texture;

	std::string currentTextureName = "snowflake.ppm";

	vec2 textureCoords[144];
	
	//snowcloud vertices created from Blender
	vec4 fullVertices[144] = {
		vec4(-0.203014,0.216815,0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(-0.203014,0.216815,-0.036842,1.0),
		vec4(0.203014,-0.216815,-0.036842,1.0),
		vec4(0.143468,-0.260077,0.036842,1.0),
		vec4(0.143468,-0.260077,-0.036842,1.0),
		vec4(0.143468,-0.260077,-0.036842,1.0),
		vec4(-0.203014,0.216815,0.036842,1.0),
		vec4(-0.203014,0.216815,-0.036842,1.0),
		vec4(0.143468,-0.260077,0.036842,1.0),
		vec4(-0.143468,0.260077,0.036842,1.0),
		vec4(-0.203014,0.216815,0.036842,1.0),
		vec4(0.203014,-0.216815,0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(-0.143468,0.260077,0.036842,1.0),
		vec4(0.143468,-0.260077,-0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(0.203014,-0.216815,-0.036842,1.0),
		vec4(-0.182102,-0.234274,0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(-0.182102,-0.234274,-0.036842,1.0),
		vec4(0.182102,0.234274,-0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(0.234194,0.182165,-0.036842,1.0),
		vec4(-0.182102,-0.234274,-0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(-0.182102,-0.234274,0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(-0.234194,-0.182165,0.036842,1.0),
		vec4(-0.182102,-0.234274,0.036842,1.0),
		vec4(0.182102,0.234274,0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(-0.234194,-0.182165,0.036842,1.0),
		vec4(0.234194,0.182165,-0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(0.182102,0.234274,-0.036842,1.0),
		vec4(0.037126,-0.589264,0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(0.037126,-0.589264,-0.036842,1.0),
		vec4(-0.037126,0.589264,-0.036842,1.0),
		vec4(0.036504,0.589225,0.036842,1.0),
		vec4(0.036504,0.589225,-0.036842,1.0),
		vec4(0.036504,0.589225,-0.036842,1.0),
		vec4(0.037126,-0.589264,0.036842,1.0),
		vec4(0.037126,-0.589264,-0.036842,1.0),
		vec4(0.036504,0.589225,0.036842,1.0),
		vec4(-0.036504,-0.589225,0.036842,1.0),
		vec4(0.037126,-0.589264,0.036842,1.0),
		vec4(-0.037126,0.589264,0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(-0.036504,-0.589225,0.036842,1.0),
		vec4(0.036504,0.589225,-0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(-0.037126,0.589264,-0.036842,1.0),
		vec4(0.589023,0.036516,-0.036842,1.0),
		vec4(0.589062,-0.037140,0.036842,1.0),
		vec4(0.589062,-0.037140,-0.036842,1.0),
		vec4(-0.589062,0.037140,-0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(-0.589062,0.037140,0.036842,1.0),
		vec4(-0.589062,0.037140,-0.036842,1.0),
		vec4(0.589023,0.036516,0.036842,1.0),
		vec4(0.589023,0.036516,-0.036842,1.0),
		vec4(0.589023,0.036516,0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(0.589062,-0.037140,0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(0.589062,-0.037140,-0.036842,1.0),
		vec4(0.589062,-0.037140,0.036842,1.0),
		vec4(0.589023,0.036516,-0.036842,1.0),
		vec4(-0.589023,-0.036516,-0.036842,1.0),
		vec4(-0.589062,0.037140,-0.036842,1.0),
		vec4(-0.203014,0.216815,0.036842,1.0),
		vec4(-0.143468,0.260077,0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(0.203014,-0.216815,-0.036842,1.0),
		vec4(0.203014,-0.216815,0.036842,1.0),
		vec4(0.143468,-0.260077,0.036842,1.0),
		vec4(0.143468,-0.260077,-0.036842,1.0),
		vec4(0.143468,-0.260077,0.036842,1.0),
		vec4(-0.203014,0.216815,0.036842,1.0),
		vec4(0.143468,-0.260077,0.036842,1.0),
		vec4(0.203014,-0.216815,0.036842,1.0),
		vec4(-0.143468,0.260077,0.036842,1.0),
		vec4(0.203014,-0.216815,0.036842,1.0),
		vec4(0.203014,-0.216815,-0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(0.143468,-0.260077,-0.036842,1.0),
		vec4(-0.203014,0.216815,-0.036842,1.0),
		vec4(-0.143468,0.260077,-0.036842,1.0),
		vec4(-0.182102,-0.234274,0.036842,1.0),
		vec4(-0.234194,-0.182165,0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(0.182102,0.234274,-0.036842,1.0),
		vec4(0.182102,0.234274,0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(-0.182102,-0.234274,-0.036842,1.0),
		vec4(0.234194,0.182165,-0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(0.234194,0.182165,0.036842,1.0),
		vec4(0.182102,0.234274,0.036842,1.0),
		vec4(-0.234194,-0.182165,0.036842,1.0),
		vec4(0.182102,0.234274,0.036842,1.0),
		vec4(0.182102,0.234274,-0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(0.234194,0.182165,-0.036842,1.0),
		vec4(-0.182102,-0.234274,-0.036842,1.0),
		vec4(-0.234194,-0.182165,-0.036842,1.0),
		vec4(0.037126,-0.589264,0.036842,1.0),
		vec4(-0.036504,-0.589225,0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(-0.037126,0.589264,-0.036842,1.0),
		vec4(-0.037126,0.589264,0.036842,1.0),
		vec4(0.036504,0.589225,0.036842,1.0),
		vec4(0.036504,0.589225,-0.036842,1.0),
		vec4(0.036504,0.589225,0.036842,1.0),
		vec4(0.037126,-0.589264,0.036842,1.0),
		vec4(0.036504,0.589225,0.036842,1.0),
		vec4(-0.037126,0.589264,0.036842,1.0),
		vec4(-0.036504,-0.589225,0.036842,1.0),
		vec4(-0.037126,0.589264,0.036842,1.0),
		vec4(-0.037126,0.589264,-0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(0.036504,0.589225,-0.036842,1.0),
		vec4(0.037126,-0.589264,-0.036842,1.0),
		vec4(-0.036504,-0.589225,-0.036842,1.0),
		vec4(0.589023,0.036516,-0.036842,1.0),
		vec4(0.589023,0.036516,0.036842,1.0),
		vec4(0.589062,-0.037140,0.036842,1.0),
		vec4(-0.589062,0.037140,-0.036842,1.0),
		vec4(-0.589023,-0.036516,-0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(-0.589062,0.037140,-0.036842,1.0),
		vec4(-0.589062,0.037140,0.036842,1.0),
		vec4(0.589023,0.036516,0.036842,1.0),
		vec4(0.589023,0.036516,0.036842,1.0),
		vec4(-0.589062,0.037140,0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(-0.589023,-0.036516,0.036842,1.0),
		vec4(-0.589023,-0.036516,-0.036842,1.0),
		vec4(0.589062,-0.037140,-0.036842,1.0),
		vec4(0.589023,0.036516,-0.036842,1.0),
		vec4(0.589062,-0.037140,-0.036842,1.0),
		vec4(-0.589023,-0.036516,-0.036842,1.0)
	};

};

